        <!--[if !IE]> -->
        <script src="/assets/js/jquery-2.0.3.min.js"></script>
        <!-- <![endif]-->
        <!--[if IE]>
        <script src="/assets/js/jquery-1.10.2.min.js"></script>
        <![endif]-->

        <script type="text/javascript">
            if("ontouchend" in document) document.write("<script src='/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
        </script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/js/bootbox.min.js"></script>
        <script src="/assets/js/ace-elements.min.js"></script>
        <script src="/assets/js/ace.min.js"></script>
        <script src="/assets/js/date-time/bootstrap-datepicker.min.js"></script>
        <script type="text/javascript">
        bootbox.setDefaults({
            locale: "zh_CN",
            animate: false
        });
        bootbox.loading = function() {
            return bootbox.dialog({
                closeButton: false,
                message: '<div class="progress progress-striped active" style="margin:0"><div class="progress-bar progress-bar-success" style="width:100%"></div></div>'
            });
        }

        bootbox.bindConfirmEvent = function(btn, label, request_uri, confirm_message) {
            $('[data-btn='+btn+']').on(ace.click_event, function() {
                var id      = $(this).parents('tr').attr('data-id');
                var message = confirm_message( $(this) );

                bootbox.confirm(message, function(res){
                    if ( ! res) return;

                    var loading = bootbox.loading();
                    $.ajax ({
                        type:'POST',
                        data: {id: id},
                        dataType:'json',
                        url: request_uri,
                        success: function(response) {
                            bootbox.alert(response.message, function() {
                                if ( ! response.code ) window.location.reload();
                            });
                        },
                        error: function() {
                            bootbox.alert('服务器问题，请重试');
                        },
                        complete:function() {
                            loading.modal('hide');
                        }
                    });
                });
            });
        }
        document.buildFormJson = function(form) {
            var o = {};
            var a = form.serializeArray();
            $.each(a, function () {
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        }
        </script>